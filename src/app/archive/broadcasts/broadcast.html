<div class="list-group-item view-{{view}}">
  <h4 class="list-group-item-heading title"
      [class.access-denied]="!broadcast.attributes.audio_access"
      (click)="toggle()">
    <div *ngIf="!broadcast.attributes.audio_access" class="pull-right">
      <span class="glyphicon glyphicon-lock"></span>
    </div>
    <a>
      <span class="broadcast-date">
        {{broadcast | broadcastTime: (view === 'show' ? 'standard' : 'time')}}
      </span>
      {{broadcast.attributes.label}}
    </a>
  </h4>

  <div class="list-group-item-text fixclear" *ngIf="expanded">

    <table class="table-condensed pull-right">
      <tr *ngFor="let audio of audioFiles">
        <td>
          <a (click)="play(audio)">
            <span class="glyphicon glyphicon-play-circle" aria-hidden="true"></span>
            {{audio.attributes.codec | uppercase}}
            {{audio.attributes.playback_format}}
            (<span *ngIf="audio.attributes.bitrate > 1">{{audio.attributes.bitrate}}k
             </span>{{audio.attributes.channels == 2 ? 'stereo' : 'mono'}})
          </a>
        </td>
        <td>
          <a *ngIf="audio.links.download" (click)="download(audio)">
            <span class="glyphicon glyphicon-download" aria-hidden="true"></span>
            Download
          </a>
        </td>
      </tr>
    </table>
    <div class="pull-right" *ngIf="loading">
      <span class="glyphicon glyphicon-option-horizontal icon-pulse"></span>
    </div>
    <div class="pull-right"
         *ngIf="audioFiles && audioFiles.length == 0">
      Keine Aufnahme vorhanden
    </div>

    <p *ngIf="broadcast.attributes.details" [innerHtml]="broadcast.attributes.details"></p>
    <p *ngIf="broadcast.attributes.people" [innerHtml]="broadcast.attributes.people"></p>
    <p *ngIf="view == 'date'">
      <a [routerLink]="['/show', broadcast.relationships.show.data.id]">Alle Sendungen</a>
    </p>
    <p class="pull-right"
         *ngIf="!broadcast.attributes.audio_access">
      Du hast keinen Zugriff auf diese Aufnahme.
      Bitte <a (click)="loginWindow.show(false)">gib den Zugangscode</a> aus dem StattRadio ein
      oder melde dich mit deinem neuen RaBe <a (click)="loginWindow.show(true)">Login</a> an.
    </p>
  </div>
</div>
